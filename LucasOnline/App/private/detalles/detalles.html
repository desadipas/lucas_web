<div class="bg" ng-controller="detallesController as vm">
    <div class="container contenido-nuevo tabla">
        <div class="clearfix"></div>

        <div class="usuario-bienvenida">
            <div class="welcome">
                <h3>Detalles del Préstamo</h3>
            </div>
        </div>
        <form class="form-standar" role="form">
            <div class="row">
                <div class="col-md-offset-4 col-md-4">
                    <div class="form-group">
                        <label class="col-md-5 control-label">Contrato:</label>
                        <div class="col-md-7">
                            <input type="text" class="form-control" disabled="disabled" readonly="readonly" ng-model="vm.Credito.cNumeroContrato" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-offset-4 col-md-4">
                    <div class="form-group">
                        <label class="col-md-5 control-label">Préstamo:</label>
                        <div class="col-md-7">
                            <input type="text" class="form-control" disabled="disabled" readonly="readonly" ng-model="vm.Credito.nPrestamo" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-offset-4 col-md-4">
                    <div class="form-group">
                        <label class="col-md-5 control-label text-left">Cuotas:</label>
                        <div class="col-md-7">
                            <input type="text" class="form-control" disabled="disabled" readonly="readonly" ng-model="vm.Credito.nCuotas" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-offset-4 col-md-4">
                    <div class="form-group">
                        <label class="col-md-5 control-label text-left">Monto de cuota:</label>
                        <div class="col-md-7">
                            <input type="text" class="form-control" disabled="disabled" readonly="readonly" ng-model="vm.Credito.nMontoCuota" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-offset-4 col-md-4">
                    <div class="form-group">
                        <label class="col-md-5 control-label text-left">TEM:</label>
                        <div class="col-md-7">
                            <input type="text" class="form-control" disabled="disabled" readonly="readonly" ng-model="vm.Credito.nTEM" />
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <div class="new-52">
                <div class="row">
                    <div class="col-md-2">
                        <p><button type="button" class="btn btn-danger btn-block btn-lg" ng-click="vm.MostrarReporte(1)">Hoja resumen 1</button></p>
                    </div>
                    <div class="col-md-2">
                        <p><button type="button" class="btn btn-danger btn-block btn-lg" ng-click="vm.MostrarReporte(2)">Hoja resumen 2</button></p>
                    </div>
                    <div class="col-md-2">
                        <p><button type="button" class="btn btn-danger btn-block btn-lg" ng-click="vm.MostrarReporte(3)">Voucher</button></p>
                    </div>
                    <div class="col-md-2">
                        <p><button type="button" class="btn btn-danger btn-block btn-lg" ng-click="vm.MostrarReporte(5)">Contrato</button></p>
                    </div>
                    <div class="col-md-2">
                        <p><button type="button" class="btn btn-danger btn-block btn-lg" ng-click="vm.MostrarReporte(7)">Seguro</button></p>
                    </div>
                    <div class="col-md-2">
                        <!--<p><button type="button" class="btn btn-info btn-block btn-lg" ng-click="vm.MuestraReporte(8)" ng-if="vm.ClientePEP">PEP</button></p>-->
                    </div>
                </div>
            </div>
            <div class="row new-52">
                <div class="col-md-offset-4 col-md-4">
                    <p>
                        <button type="button" class="btn btn-primary btn-block btn-lg" ng-click="vm.MostrarReporte(4)"><span class="fa fa-cloud-download"></span> Descargar Estado de cuenta</button>
                    </p>
                </div>
            </div>
            <ul class="nav nav-tabs new-52">
                <li class="active"><a data-toggle="tab" data-target="#Calendario" href="">Calendario de pagos</a></li>
                <li><a data-toggle="tab" data-target="#kardex" href="">Detalles de operaciones</a></li>
            </ul>

            <div class="tab-content">
                <div id="Calendario" class="tab-pane fade in active">
                    <h3>Calendario de pagos</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-list">
                            <thead>
                                <tr>
                                    <th class="text-center">Cuota</th>
                                    <th class="text-center">Fecha de pago</th>
                                    <th class="text-center">Capital</th>
                                    <th class="text-center">Interés</th>
                                    <th class="text-center">Gasto</th>
                                    <th class="text-center">Seguro</th>
                                    <th class="text-center">Total</th>
                                    <th class="text-center">Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in vm.Calendario">
                                    <td class="text-center">{{::item.nNroCuotas}}</td>
                                    <td class="text-center">{{::item.dFecVenc}}</td>
                                    <td class="text-right">{{::item.nCapital | currency:'S/ '}}</td>
                                    <td class="text-right">{{::item.nIntComp | currency:'S/ '}}</td>
                                    <td class="text-right">{{::item.nGasto | currency:'S/ '}}</td>
                                    <td class="text-right">{{::item.nSeguro | currency:'S/ '}}</td>
                                    <td class="text-right">{{::item.nTotal | currency:'S/ '}}</td>
                                    <td class="text-center">{{::item.cDescripcion}}</td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="2" class="text-right">Totales:</td>
                                    <td class="text-right">{{vm.TotalCapital}}</td>
                                    <td class="text-right">{{vm.TotalInteres}}</td>
                                    <td class="text-right">{{vm.TotalGasto}}</td>
                                    <td class="text-right">{{vm.TotalSeguro}}</td>
                                    <td class="text-right">{{vm.Total}}</td>
                                    <td></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
                <div id="kardex" class="tab-pane fade">
                    <h3>Detalle de operaciones</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-list">
                            <thead>
                                <tr class="uppercase">
                                    <th class="text-center">Fecha</th>
                                    <th class="text-center">Operación</th>
                                    <th class="text-center">Capital</th>
                                    <th class="text-center">Interés</th>
                                    <th class="text-center">Seguro/Gasto</th>
                                    <th class="text-center">Monto total</th>
                                    <th class="text-center">Nuevo Saldo</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in vm.Kardex">
                                    <td class="text-center">{{item.dFecPago}}</td>
                                    <td class="text-center">{{item.cDescripcion}}</td>
                                    <td class="text-right">{{item.nCapital | currency:'S/ '}}</td>
                                    <td class="text-right">{{item.nIntComp | currency:'S/ '}}</td>
                                    <td class="text-right">{{item.nIGV | currency:'S/ '}}</td>
                                    <td class="text-right">{{item.nIGV + item.nCapital + item.nIntComp | currency:'S/ '}}</td>
                                    <td class="text-right">{{item.nMontoNuevoSaldo | currency:'S/ '}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <br />
                <div class="row new-52">
                    <div class="col-md-offset-4 col-md-4">
                        <p>
                            <button type="button" class="btn btn-primary btn-block btn-lg" ui-sref="dashboard" ui-sref-active="active"><span class="fa fa-arrow-left"></span> Volver a la bandeja</button>
                        </p>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    $(document).ready(function () {
        $(this).scrollTop(0);
    });

    $(document).on('click', '.navbar-collapse.in', function (e) { if ($(e.target).is('a') && $(e.target).attr('class') != 'dropdown-toggle') { $(this).collapse('hide'); } });
</script>